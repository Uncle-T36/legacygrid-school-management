{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<style>
/* Billing-specific styles */
.billing-header {
  background: linear-gradient(135deg, var(--accent-bg) 0%, var(--secondary-bg) 100%);
  border: 1px solid rgba(62, 243, 255, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
  text-align: center;
}

.billing-navigation {
  display: flex;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-xl);
  flex-wrap: wrap;
}

.billing-nav-link {
  padding: var(--spacing-md) var(--spacing-lg);
  background: var(--glass-bg);
  border-radius: var(--radius-md);
  text-decoration: none;
  color: var(--text-secondary);
  transition: var(--transition-fast);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.billing-nav-link:hover {
  background: var(--neon-cyan);
  color: var(--primary-bg);
  transform: translateY(-2px);
}

.billing-nav-link.active {
  background: linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-purple) 100%);
  color: var(--text-primary);
}

@media (max-width: 768px) {
  .billing-navigation {
    flex-direction: column;
  }
  
  .billing-nav-link {
    text-align: center;
  }
}
</style>
{% endblock %}

{% block navigation %}
{{ block.super }}
{% if user.username == 'Uncle-T36' %}
<div style="border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: var(--spacing-lg); padding-top: var(--spacing-lg);">
  <div class="nav-item">
    <a href="{% url 'billing_dashboard' %}" class="nav-link">
      <span class="nav-icon">📊</span>
      <span class="nav-text">Billing Dashboard</span>
    </a>
  </div>
  
  <div class="nav-item">
    <a href="{% url 'subscription_management' %}" class="nav-link">
      <span class="nav-icon">💎</span>
      <span class="nav-text">Subscriptions</span>
    </a>
  </div>
  
  <div class="nav-item">
    <a href="{% url 'billing_settings' %}" class="nav-link">
      <span class="nav-icon">⚙️</span>
      <span class="nav-text">Billing Settings</span>
    </a>
  </div>
</div>
{% endif %}
{% endblock %}

{% block header %}
<div class="user-welcome">
  <div>
    <h1 class="page-title">
      {% block page_title %}Billing Management{% endblock %}
      {% if user.username == 'Uncle-T36' %}
        <span class="security-badge">Owner Access</span>
      {% endif %}
    </h1>
    <p class="user-info">Secure payment and subscription management</p>
  </div>
  
  <div class="user-actions">
    {% block header_actions %}
    <a href="{% url 'billing_dashboard' %}" class="btn btn-secondary">
      Dashboard
    </a>
    {% endblock header_actions %}
  </div>
</div>
{% endblock %}

{% block content %}
{% if user.username != 'Uncle-T36' %}
<div class="alert alert-danger">
  <strong>🔒 Access Denied:</strong> This billing management system is restricted to the system owner (Uncle-T36) only. 
  Unauthorized access attempts are logged and monitored.
</div>
{% else %}

<div class="billing-header">
  <h2 style="margin: 0; color: var(--neon-cyan);">💳 Billing & Payment Management</h2>
  <p style="margin: var(--spacing-sm) 0 0; color: var(--text-secondary);">
    Comprehensive financial management for LegacyGrid School Management System
  </p>
</div>

<nav class="billing-navigation">
  <a href="{% url 'billing_dashboard' %}" class="billing-nav-link">
    📊 Dashboard
  </a>
  <a href="{% url 'subscription_management' %}" class="billing-nav-link">
    💎 Subscriptions
  </a>
  <a href="{% url 'billing_settings' %}" class="billing-nav-link">
    ⚙️ Settings
  </a>
</nav>

{% block billing_content %}
<!-- Billing-specific content goes here -->
{% endblock billing_content %}

{% endif %}
{% endblock %}